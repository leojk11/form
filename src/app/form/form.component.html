<div class='form-wrapper'>
    <form #form='ngForm' (ngSubmit)='onSubmit(form)'>

        <div *ngFor='let singleInput of allInputs'>
            <div class="form-field" *ngIf="singleInput.type === 'email'" >
                <label>{{ singleInput.label }}</label>
        
                <input 
                    ngModel 
                    #emailField='ngModel' 
                    [name]='singleInput.name' 
                    [type]="singleInput.type" 
                    [placeholder]="singleInput.placeholder"
                    [defaultValue]='singleInput.default_value'
                    [multiple]='singleInput.multiple'
                    [readonly]='singleInput.readonly' 
                    required 
                    minlength="3"
                    maxlength="64"
                >
        
                <div class="error" *ngIf='formError && emailField.invalid'>
                    <p *ngIf='emailField.errors!.required'>This field is required</p>
                    <p *ngIf='emailField.errors!.minlength'>Email must be at least 3 characters</p>
                    <p *ngIf='emailField.errors!.maxlength'>Email cannot be more than 64 characters</p>
                </div>
            </div>
            
            <div class="form-field" *ngIf="singleInput.type === 'text'" >
                <label>{{ singleInput.label }}</label>
        
                <input 
                    ngModel 
                    #nameField='ngModel'
                    [name]='singleInput.name'
                    [type]="singleInput.type"
                    [placeholder]='singleInput.placeholder'
                    [value]='singleInput.value'
                    [defaultValue]='singleInput.default_value'
                    [mutiple]='singleInput.mutiple'
                    [readonly]='singleInput.readonly'
                    required
                    minlength="3"
                    maxlength="64"
                >

                <div class="error" *ngIf='formError && nameField.invalid'>
                    <p *ngIf='nameField.errors!.required'>This field is required</p>
                    <p *ngIf='nameField.errors!.minlength'>Email must be at least 3 characters</p>
                    <p *ngIf='nameField.errors!.maxlength'>Email cannot be more than 64 characters</p>
                </div>
            </div>
            
            <div class="form-field" *ngIf="singleInput.type === 'select'">
                <label>{{ singleInput.label }}</label>

                <select 
                    [(ngModel)]='singleInput.name' 
                    name='singleInput.name' 
                    [value]='singleInput.default_value'
                >
                    <option *ngFor='let option of singleInput.options' [value]='option.balue'>{{ option.label }}</option>
                </select>
            </div>
            
        </div>

        <button *ngIf='1formError' disabled>submit</button>
    </form>
</div>
